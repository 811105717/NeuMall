<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.neusoft.mall.goods.mapper.GoodsPicMapper" >

    <select id="selectAllByGoodsId" resultType="com.neusoft.mall.goods.entity.GoodsPic" parameterType="String" >
        select
        picture_id, picture_address, picture_is_fist_pictuer,sort_no, version
        from t_commodity_pic
        where commodity_id = #{goodsId}
    </select>

    <insert id="insertGoodsPics"  parameterType="java.util.List">
        insert into t_commodity_pic (picture_id, picture_address, picture_is_fist_pictuer,
        commodity_id, created_by, gmt_create,
        last_modified_by, gmt_modified, is_deleted,
        sort_no, version)
        VALUES
        <foreach collection="list" item="item" index="index" separator="," >
            (
            #{item.pictureId,jdbcType=INTEGER},


            #{item.pictureAddress,jdbcType=VARCHAR},


            #{item.pictureIsFistPictuer,jdbcType=INTEGER},

            #{item.commodityId,jdbcType=VARCHAR},

            #{item.createdBy,jdbcType=VARCHAR},

            #{item.gmtCreate,jdbcType=TIMESTAMP},

            #{item.lastModifiedBy,jdbcType=VARCHAR},

            #{item.gmtModified,jdbcType=TIMESTAMP},

            #{item.isDeleted,jdbcType=INTEGER},

            #{item.sortNo,jdbcType=INTEGER},

            #{item.version,jdbcType=INTEGER}


            )
        </foreach>


    </insert>

    <insert id="insertSelective" parameterType="com.neusoft.mall.goods.entity.GoodsPic" >
        insert into t_commodity_pic
        <trim prefix="(" suffix=")" suffixOverrides="," >
            <if test="pictureId != null" >
                picture_id,
            </if>
            <if test="pictureAddress != null" >
                picture_address,
            </if>
            <if test="pictureIsFistPictuer != null" >
                picture_is_fist_pictuer,
            </if>
            <if test="commodityId != null" >
                commodity_id,
            </if>
            <if test="createdBy != null" >
                created_by,
            </if>
            <if test="gmtCreate != null" >
                gmt_create,
            </if>
            <if test="lastModifiedBy != null" >
                last_modified_by,
            </if>
            <if test="gmtModified != null" >
                gmt_modified,
            </if>
            <if test="isDeleted != null" >
                is_deleted,
            </if>
            <if test="sortNo != null" >
                sort_no,
            </if>
            <if test="version != null" >
                version,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides="," >
            <if test="pictureId != null" >
                #{pictureId,jdbcType=INTEGER},
            </if>
            <if test="pictureAddress != null" >
                #{pictureAddress,jdbcType=VARCHAR},
            </if>
            <if test="pictureIsFistPictuer != null" >
                #{pictureIsFistPictuer,jdbcType=INTEGER},
            </if>
            <if test="commodityId != null" >
                #{commodityId,jdbcType=VARCHAR},
            </if>
            <if test="createdBy != null" >
                #{createdBy,jdbcType=VARCHAR},
            </if>
            <if test="gmtCreate != null" >
                #{gmtCreate,jdbcType=TIMESTAMP},
            </if>
            <if test="lastModifiedBy != null" >
                #{lastModifiedBy,jdbcType=VARCHAR},
            </if>
            <if test="gmtModified != null" >
                #{gmtModified,jdbcType=TIMESTAMP},
            </if>
            <if test="isDeleted != null" >
                #{isDeleted,jdbcType=INTEGER},
            </if>
            <if test="sortNo != null" >
                #{sortNo,jdbcType=INTEGER},
            </if>
            <if test="version != null" >
                #{version,jdbcType=INTEGER},
            </if>
        </trim>
    </insert>

    <update id="updateGoodsPic" parameterType="java.util.List">
            update t_commodity_pic
            <foreach collection="list" item="item" index="index"  separator=",">
              <set >
                    picture_address = #{item.pictureAddress,jdbcType=VARCHAR},
                    picture_is_fist_pictuer = #{item.pictureIsFistPictuer,jdbcType=INTEGER},
                    last_modified_by = #{item.lastModifiedBy,jdbcType=VARCHAR},
                    gmt_modified = #{item.gmtModified,jdbcType=TIMESTAMP},
              </set>
              where commodity_id = #{item.commodityId,jdbcType=INTEGER}
        </foreach>
    </update>

    <update id="updateSelective" parameterType="com.neusoft.mall.goods.entity.GoodsPic" >
        update t_commodity_pic
        <set >
            <if test="pictureAddress != null" >
                picture_address = #{pictureAddress,jdbcType=VARCHAR},
            </if>
            <if test="pictureIsFistPictuer != null" >
                picture_is_fist_pictuer = #{pictureIsFistPictuer,jdbcType=INTEGER},
            </if>
            <if test="commodityId != null" >
                commodity_id = #{commodityId,jdbcType=VARCHAR},
            </if>
            <if test="createdBy != null" >
                created_by = #{createdBy,jdbcType=VARCHAR},
            </if>
            <if test="gmtCreate != null" >
                gmt_create = #{gmtCreate,jdbcType=TIMESTAMP},
            </if>
            <if test="lastModifiedBy != null" >
                last_modified_by = #{lastModifiedBy,jdbcType=VARCHAR},
            </if>
            <if test="gmtModified != null" >
                gmt_modified = #{gmtModified,jdbcType=TIMESTAMP},
            </if>
            <if test="isDeleted != null" >
                is_deleted = #{isDeleted,jdbcType=INTEGER},
            </if>
            <if test="sortNo != null" >
                sort_no = #{sortNo,jdbcType=INTEGER},
            </if>
            <if test="version != null" >
                version = #{version,jdbcType=INTEGER},
            </if>
        </set>
        where picture_id = #{pictureId,jdbcType=INTEGER}
    </update>

    <delete id="deleteByCommodityId" parameterType="java.lang.String" >
        delete from t_commodity_pic
        where commodity_id = #{CommodityId,jdbcType=VARCHAR}
    </delete>
</mapper>